<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>QUnit Testing for metron</title>
        <link rel="stylesheet" href="bower_components/qunit/qunit/qunit.css">
        <script src="bower_components/qunit/qunit/qunit.js"></script>
        <script src="../dist/gen/metron.extenders.js"></script>
        <script>
            /* String extensions */
            QUnit.test( "String lower", function(assert) {
                assert.ok( "LOWER".lower() == "lower", "Passed!" );
            });
            QUnit.test( "String upper", function(assert) {
                assert.ok( "upper".upper() == "UPPER", "Passed!" );
            });
            QUnit.test( "String ltrim", function(assert) {
                assert.ok( "    left trim".ltrim() == "left trim", "Passed!" );
            });
            QUnit.test( "String rtrim", function(assert) {
                assert.ok( "right trim    ".rtrim() == "right trim", "Passed!" );
            });
            QUnit.test( "String normalize", function(assert) {
                assert.ok( "   normalize  the whitespace   between    ".normalize() == "normalize the whitespace between", "Passed!" );
            });
            QUnit.test( "String startsWith", function(assert) {
                assert.ok( "startsWith".startsWith("s") == true, "Passed!" );
            });
            QUnit.test( "String startsWith", function(assert) {
                assert.ok( "startsWith".startsWith("q") == false, "Passed!" );
            });
            QUnit.test( "String endsWith", function(assert) {
                assert.ok( "endsWith".endsWith("h") == true, "Passed!" );
            });
            QUnit.test( "String endsWith", function(assert) {
                assert.ok( "endsWith".endsWith("q") == false, "Passed!" );
            });
            QUnit.test( "String capFirst", function(assert) {
                assert.ok( "capFirst".capFirst() == "CapFirst", "Passed!" );
            });
            QUnit.test( "String capWords", function(assert) {
                assert.ok( "capWords in this phrase".capWords() == "CapWords In This Phrase", "Passed!" );
            });
            QUnit.test( "String truncateWords", function(assert) {
                assert.ok( "truncateWords in this phrase".truncateWords(3) == "truncateWords in this", "Passed!" );
            });
            QUnit.test( "String truncateWordsWithHtml", function(assert) {
                assert.ok( "<p>truncateWordsWithHtml in this phrase</p>".truncateWordsWithHtml(3) == "<p>truncateWordsWithHtml in this</p>", "Passed!" );
            });
            QUnit.test( "String stripHtml", function(assert) {
                assert.ok( "<p>stripHtml in this phrase</p>".stripHtml() == "stripHtml in this phrase", "Passed!" );
            });
            QUnit.test( "String escapeHtml", function(assert) {
                assert.ok( "<p>escapeHtml in this phrase</p>".escapeHtml() == "&lt;p&gt;escapeHtml in this phrase&lt;/p&gt;", "Passed!" );
            });
            QUnit.test( "String toBool", function(assert) {
                assert.ok( "1".stripHtml() == true, "Passed!" );
            });
            QUnit.test( "String toBool", function(assert) {
                assert.ok( "q".stripHtml() == false, "Passed!" );
            });
            QUnit.test( "String contains", function(assert) {
                assert.ok( "contains".contains("c") == true, "Passed!" );
            });
            QUnit.test( "String contains", function(assert) {
                assert.ok( "contains".contains("q") == false, "Passed!" );
            });
            QUnit.test( "String slugify", function(assert) {
                assert.ok( "Slugify This Phrase".slugify() == "slugify-this-phrase", "Passed!" );
            });
            QUnit.test( "String slugify", function(assert) {
                assert.ok( "Slugify This Phrase".slugify(false) == "Slugify-This-Phrase", "Passed!" );
            });
            QUnit.test( "String toPhoneNumber", function(assert) {
                assert.ok( "2125551234".toPhoneNumber() == "212-555-1234", "Passed!" );
            });
            QUnit.test( "String isNullOrEmpty", function(assert) {
                assert.ok(String.isNullOrEmpty("Not empty") == false, "Passed!" );
            });
            /* Number extensions */
            QUnit.test( "Number toBool", function(assert) {
                assert.ok( (1).toBool() == true, "Passed!" );
            });
            QUnit.test( "Number toBool", function(assert) {
                assert.ok( (0).toBool() == false, "Passed!" );
            });
            QUnit.test( "Number random", function(assert) {
                assert.ok( (0 < Number.random(0, 5) < 5) == true, "Passed!" );
            });
            QUnit.test( "Number random", function(assert) {
                assert.ok( (5 < Number.random(0, 5) < 0) == false, "Passed!" );
            });
            /* Array extensions */
            QUnit.test( "Array empty", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                assert.ok( mockArray().empty().length == 0, "Passed!" );
            });
            QUnit.test( "Array isEmpty", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                assert.ok( mockArray().isEmpty() == false, "Passed!" );
            });
            QUnit.test( "Array isEmpty", function(assert) {
                function mockArray() {
                    return [];
                }
                assert.ok( mockArray().isEmpty() == true, "Passed!" );
            });
            /*
             * No test for Array.prototype.each
             */
            QUnit.test( "Array remove", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                function removeItem() {
                    var mock = mockArray().remove("item one");
                    return mock.length
                }
                assert.ok( removeItem().length == 3, "Passed!" );
            });
            QUnit.test( "Array contains", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                assert.ok( mockArray().contains("item one") == true, "Passed!" );
            });
            QUnit.test( "Array contains", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                assert.ok( mockArray().contains("item five") == false, "Passed!" );
            });
            QUnit.test( "Array indexOfPartial", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                assert.ok( mockArray().indexOfPartial("item") == true, "Passed!" );
            });
            QUnit.test( "Array indexOfPartial", function(assert) {
                function mockArray() {
                    return ["item one", "item two", "item three", "item four"];
                }
                assert.ok( mockArray().indexOfPartial("five") == false, "Passed!" );
            });
            QUnit.test( "Array toObjectArray", function(assert) {
                function mockObject() {
                    return [
                        "item one"
                        , "item two"
                        , "item three"
                        , "item four"
                    ];
                }
                function isAnObject(obj) {
                    if(obj[0]["item"] !== undefined) {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
                assert.ok( isAnObject(mockObject().toObjectArray("item")) == true, "Passed!" );
            });
            QUnit.test( "Object isEmpty", function(assert) {
                function mockObject() {
                    return {
                        "item": "item one"
                    };
                }
                assert.ok( mockObject().isEmpty("item") == false, "Passed!" );
            });
            QUnit.test( "Object isEmpty", function(assert) {
                function mockObject() {
                    return { };
                }
                assert.ok( mockObject().isEmpty("item") == true, "Passed!" );
            });
            QUnit.test( "Document select", function(assert) {
                assert.ok( (document.selectOne("#qunit") != null) == true, "Passed!" );
            });
            /*
             * No test for HTMLElement.prototype.clean
             */
        </script>
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture"></div>
    </body>
</html>
